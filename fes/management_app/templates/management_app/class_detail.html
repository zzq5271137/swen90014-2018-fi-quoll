{% extends "management_app/navigation_bar_base.html" %}

<!--This page inherits from navigation_bar_base. It is used to display class details. -->
{% block nav-class-detail %}
<div class="w3-container w3-sand w3-center w3-text-black w3-padding-32">
    <div class="w3-container w3-sand w3-center w3-text-blue-grey w3-padding-32" style="max-width:100%">
    <h1><b>Class Detail</b></h1>
      <div class="w3-content w3-justify" style="max-width:600px">
          <hr class="w3-opacity w3-blue-grey">
          <hr class="w3-opacity w3-blue-grey">
      </div>
    </div>

    <p><button class="w3-button w3-blue-grey w3-padding-large w3-margin-top w3-margin-bottom"
               OnClick="location.href= '{% url 'class_edit' class.id %}'" style="width:auto;">Edit Class</button></p>
    <hr class="w3-opacity">
    {% if class %}

      <p>Start Time : {{ class.start }}</p>
      <p>End Time: {{ class.end }}</p>

      <hr class="w3-opacity">
      <h4><b>Trainer</b></h4>
      <p>{{ class.class_trainer}}</p>
      <p>{{ class.class_trainer.trainer_register_number}}</p>
      <p>{{ class.class_trainer.trainer_email}}</p>
      <p>{{ class.class_trainer.trainer_work_phone}}</p>

      <hr class="w3-opacity">
      <h4><b>Client</b></h4>
      <p>{{ class.class_client}}</p>
      <p>Contact Name: {{ class.class_client.contact_name}}</p>
      <p>Contact Email: {{ class.class_client.contact_email}}</p>

      <hr class="w3-opacity">
      <h4><b>Attendees</b></h4>
      <table class="w3-table-all w3-hoverable w3-justify w3-content" style="max-width:600px">
            <thead>
              <tr class="w3-light-grey">
                <th>Attendee</th>
                <th>Attended</th>
              </tr>
              </thead>
              {% for attendee in class.attendee_set.all %}
                  <tr>
                    <td>{{ attendee }}</td>
                    <td>{{ attendee.attended }}</td>
                  </tr>
              {% endfor %}
      </table>

      <hr class="w3-opacity">
      <h4><b>Location</b></h4>
      <p>{{ class.class_location}}</p>

      {% else %}
        <p>Something went wrong.</p>
    {% endif %}
    <hr class="w3-opacity">
    <p><button class="w3-button w3-blue-grey w3-padding-large w3-margin-top w3-margin-bottom"
               OnClick="location.href= '{% url 'class_delete' class.id %}'" style="width:auto;">Delete Class</button></p>

    <div class="w3-container w3-sand w3-center w3-text-blue-grey w3-padding-32" style="max-width:100%">
      <div class="w3-content w3-justify" style="max-width:600px">
          <hr class="w3-opacity w3-blue-grey">
          <hr class="w3-opacity w3-blue-grey">
      </div>
    </div>

</div>
{% endblock %}